(function(a){var t,d,m,n,u,p,v,k,r,e,j,c,f,s,w,g="lien/lister",l,q=!1,x=function(){t=a('input[name="lien"]').val();a('#curl input[type="submit"]').val("Curl en Cours...");g="lien/lister";a.post("lien/recuperer_donnees",{lien:t},function(b){m=a("#content *");l=a("#content");l.fadeOut(200);m.remove();l.append(b);l.fadeIn(200);a(".form img").hide();a('.form input[type="radio"]').hide();a(".form img").first().show();a('.form input[type="radio"]').eq(0).attr("checked","checked");s=a(".form img").length-
1;f=0;a(".imgSelector").show().css({maxWidth:"45px","float":"right"});a(".form img").css({maxWidth:"45px",position:"absolute",top:"0.5em",left:"6.2em"})});document.title="CurLink-Ajout d'un lien";return!1},y=function(){u=a('.form input[checked="checked"]').val();n=a("#titre").val();p=a("#description").val();v=a('input[name="url"]').val();g="lien/ajouter";a.post(g,{image:u,titre:n,description:p,url:v},function(a){h(a)});return!1},z=function(){n=a("#titre").val();c=a('input[name="id"]').val();p=a("#description").val();
g="lien/modifier";a.post(g,{titre:n,description:p,id:c},function(a){h(a)});return!1},A=function(b){b.preventDefault();b.returnValue=!1;g="lien/lister";a.get("lien/lister",{},function(a){h(a)})},B=function(b){b.preventDefault();b.returnValue=!1;g="lien/listerLienFollow";a.get("lien/listerLienFollow",{},function(a){h(a)});document.title="CurLink-Liens que je suis"},C=function(b){b.preventDefault();b.returnValue=!1;g="lien/listerLienAt";a.get("lien/listerLienAt",{},function(a){h(a)});document.title=
"CurLink-Lien qui me citent"},D=function(b){b.preventDefault();b.returnValue=!1;k=a(this).attr("href");r=k.split("/");j=r.length-1;k=r[j];k=k.replace("?tag=","");g="lien/listerLienTag";a.get(g,{tag:k},function(a){h(a)})},E=function(b){b.preventDefault();b.returnValue=!1;g="lien/listerLienTag";a.get(g,{first:"first"},function(a){h(a)});document.title="CurLink-Lien par tag"},F=function(b){b.preventDefault();b.returnValue=!1;c=a(this).attr("href");e=c.split("/");j=e.length-1;c=e[j];c=c.replace("?id_ami=",
"");a("this").prev("h1").text();a.get("membre/ajouterFollows",{id_ami:c});a(this).remove();a.get("lien/listerLienFollow",{},function(a){h(a)})},G=function(b){b.preventDefault();b.returnValue=!1;c=a(this).attr("href");e=c.split("/");j=e.length-1;c=e[j];c=c.replace("?id_ami=","");a("this").prev("h1").text();a.get("membre/retirerFollows",{id_ami:c});a(this).remove();a.get("lien/listerLienFollow",{},function(a){h(a)});return!1},h=function(b){m=a("#content *");l=a("#content");l.fadeOut(200);m.remove();
l.append(b);l.fadeIn(200)},H=function(b){b.preventDefault();b.returnValue=!1;a(".form img").eq(f).fadeOut(200);a('.form input[type="radio"]').eq(f).removeAttr("checked");0>f&&(f=s);f--;a('.form input[type="radio"]').eq(f).attr("checked","checked");a(".form img").eq(f).fadeIn(200)},I=function(b){b.preventDefault();b.returnValue=!1;a(".form img").eq(f).fadeOut(200);a('.form input[type="radio"]').eq(f).removeAttr("checked");f>s-1&&(f=-1);f++;a('.form input[type="radio"]').eq(f).attr("checked","checked");
a(".form img").eq(f).fadeIn(200)},J=function(b){b.preventDefault();b.returnValue=!1;a("#delete").remove();c=a(this).attr("href");e=c.split("/");j=e.length-1;c=e[j];c=c.replace("supprimer?id=","");!1!=w&&(a("body").append('<div id="overlay"></div>'),a("#overlay").css({backgroundColor:"rgba(255,255,255,0.5)",display:"block",position:"absolute",top:0,left:0,zIndex:"3",height:a(document).height(),width:a(document).width()}),a(this).parent(".lien").append('<div id="delete"><p>Voulez vous supprimer ce lien?</p><a href="#" id="yes" class="btn">Oui</a><a href="#" id="no" class="btn">Non</a></div>'));
a("#yes").focus();w=!0},K=function(b){b.preventDefault();b.returnValue=!1;a(this).parent("#delete").remove();a("#overlay").remove();a.get("lien/supprimer",{id:c},function(a){h(a)})},L=function(b){b.preventDefault();b.returnValue=!1;a(this).parent("#delete").remove();a("#overlay").remove()},M=function(b){b.preventDefault();b.returnValue=!1;c=a(this).attr("href");e=c.split("/");j=e.length-1;c=e[j];c=c.replace("editer?id=","");g="lien";a.get("lien/editer",{id:c},function(a){h(a)});document.title="CurLink-Modification d'un lien"},
N=function(b){b.preventDefault();b.returnValue=!1;c=a(this).attr("href");e=c.split("/");j=e.length-1;c=e[j];c=c.replace("listerAuteur?id=","");g="lien";a.get("lien/listerAuteur",{id:c},function(a){h(a)});return!1},O=function(){k=a('input[name="tag"]').val();a.get("lien/listerLienTag",{tag:k},function(a){h(a)});return!1},P=function(b){b.preventDefault();b.returnValue=!1;console.log(q);!1==q?(a("body").append('<div id="overlay"></div>'),a("#overlay").css({backgroundColor:"rgba(255,255,255,0.5)",display:"block",
position:"absolute",top:0,left:0,zIndex:"3",height:a(document).height(),width:a(document).width()}),a("#listeMembre").fadeIn(200),q=!0,console.log("clocked")):(q=!1,a("#overlay").remove(),a("#listeMembre").fadeOut(200))};a(function(){d=a("body");d.delegate("#curl form","submit",x);d.delegate("#ajout form","submit",y);d.delegate("#edit form","submit",z);d.delegate('a[name="editer"]',"click",M);d.delegate("#follow","click",B);d.delegate("#named","click",C);d.delegate("#link","click",A);d.delegate("#linkTag",
"click",E);d.delegate(".tag","click",D);d.delegate(".followMember","click",F);d.delegate(".unFollowMember","click",G);d.delegate("#left","click",H);d.delegate("#right","click",I);d.delegate('a[name="supprimer"]',"click",J);d.delegate("#no","click",L);d.delegate("#yes","click",K);d.delegate("#searchTag","submit",O);d.delegate(".linkAuthor","click",N);d.delegate("#listButton","click",P)})})(jQuery);